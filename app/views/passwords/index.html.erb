<% provide(:title, 'パスワード一覧') %>
<h2 class="title">パスワード一覧</h2>

    <div class="search-form-and-add-btn">
      <%= form_with(url: passwords_path, local: true, method: :get, class:"search_form") do |f| %>
        <%= f.search_field(:word, value: @word, placeholder: "タイトルで検索") %>
        <%= f.submit "検索", name: nil, class: "btn-small btn-small-blue" %>
      <% end %>
        <%= link_to "＋パスワード追加", new_password_path, class: "btn btn-blue" %>
    </div>

  <%= link_to '作成日が新しい順', passwords_path(sort_key:"created_latest", word: params[:word]),\
    class:params[:sort_key] == "created_latest" || !params[:sort_key] ? "sort-link selected" : "sort-link" %>
  | <%= link_to '作成日が古い順', passwords_path(sort_key:"created_old", word: params[:word]),\
    class:params[:sort_key] == "created_old" ? "sort-link selected" : "sort-link" %>
  | <%= link_to '更新日が新しい順', passwords_path(sort_key:"updated_latest", word: params[:word]),\
    class:params[:sort_key] == "updated_latest" ? "sort-link selected" : "sort-link" %>
  | <%= link_to '更新日が古い順', passwords_path(sort_key:"updated_old", word: params[:word]),\
    class:params[:sort_key] == "updateted_old" ? "sort-link selected" : "sort-link" %>


<div class="side-of-the-table">
  <h3>タイトル</h3>
  <h3>アカウント名</h3>
</div>
<ul class="passwords">
  <% @passwords.each do |password| %>
    <li class="password-list">
      <%= link_to "", password, class: "link_to_show" %>
      <h3><%= password.title %></h3>
      <p><%= password.account %></p>
      <%= link_to "編集", edit_password_path(password), class: "btn-small btn-small-blue" %>
      <%= link_to "削除", password, class: "btn-small btn-small-red",
        data: { "turbo-method": :delete, turbo_confirm: "本当に削除しますか？" } %>
    </li>
  <% end %>
</ul>
<div class="pagenate">
  <%= paginate @passwords %>
</div>
